<!DOCTYPE html>
<html lang="tl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COC 1 - Install and Configure Computer Systems</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/coc1.css">
</head>
<body>

<!-- Header Section -->
<header class="main-header">
    <h1>Computer System Servicing NC II</h1>
</header>

<div class="dashboard">
  <!-- Sidebar -->
  <aside class="sidebar">
    <h2>COC 1 Lessons</h2>
    <ul>
      <li onclick="loadLesson('lesson1')">Assembly and Disassembly of Computer Unit</li>
      <li onclick="loadLesson('lesson2')">Test the Computer Unit and Configure BIOS</li> <!-- This is where the lesson2.json should show -->
      <li onclick="loadLesson('lesson3')">Prepare the Bootable USB Installers</li>
      <li onclick="loadLesson('lesson4')">Install Drivers & Share Printer</li>
      <li onclick="loadLesson('lesson5')">Configure Computer Systems</li>
      <li onclick="loadLesson('lesson6')">Turn off Firewalls (All Computers)</li>
      <li onclick="loadLesson('lesson7')">Configure Advanced Sharing (All Computers)</li>
      <li onclick="loadLesson('lesson8')">Rename Computers (SERVER: last name, CLIENT: first name)</li>
    </ul>
  </aside>

  <!-- Content Section -->
  <main class="main-content">
    <button class="close-btn" onclick="closeWindow()">X</button>
    <h1 id="lesson-title">Welcome to COC1 - Install and Configure Computer Systems</h1>
    <div id="lesson-details">
        <p>Select a lesson from the sidebar to view details.</p>
    </div>
  </main>
</div>

<script>
    // Function to load lesson details dynamically into the content area
    function loadLesson(lessonId) {
        const lessonUrl = lessonId === 'lesson1'
            ? 'https://tesda-auth-api.nextwavehub01.workers.dev/lesson1.json'  // Existing worker for lesson1
            : 'https://coc1lessonworker.nextwavehub01.workers.dev/lesson2.json';  // Worker URL for lesson2 (coc1lessonworker)

        fetch(lessonUrl)
            .then(response => response.json())
            .then(data => {
                const lesson = data[lessonId]; // Dynamically load lesson based on lessonId
                if (lesson) {
                    document.getElementById("lesson-title").innerText = lesson.title;
                    document.getElementById("lesson-details").innerHTML = `
                        <p>${lesson.content}</p>
                    `;
                } else {
                    document.getElementById("lesson-title").innerText = "Lesson not found";
                    document.getElementById("lesson-details").innerHTML = "<p>Sorry, this lesson is not available.</p>";
                }
            })
            .catch(error => {
                document.getElementById("lesson-title").innerText = "Error Loading Lesson";
                document.getElementById("lesson-details").innerHTML = "<p>Sorry, there was an error loading this lesson.</p>";
                console.error("Error loading lesson:", error);
            });
    }

    // Close the window or lesson content
    function closeWindow() {
        document.getElementById("lesson-details").innerHTML = "<p>Select a lesson from the sidebar to view details.</p>";
        document.getElementById("lesson-title").innerText = "Welcome to COC1 - Install and Configure Computer Systems";
    }
</script>

<script src="assets/js/coc1.js"></script> <!-- Correct JS path -->
</body>
</html>
